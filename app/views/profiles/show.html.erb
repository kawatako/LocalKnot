<%# app/views/profiles/show.html.erb %>
<h1>
  <% if @profile.user.present? && @profile.user_name.present? %>
    <%= @profile.user_name %> のプロフィール
  <% else %>
    プロフィール
  <% end %>
</h1>

<% if @profile.new_record? %>
  <p>まだプロフィールが登録されていません。</p>
  <%= link_to "プロフィールを登録する", edit_profile_path %>
<% else %>
  <% if @profile.avatar.present? %>
    <p>
      <%= image_tag @profile.avatar.thumb.url %>
    </p>
  <% else %>
    <p>
      <%= image_tag "default_avatar.png", alt: "デフォルトのプロフィール画像" %>
    </p>
  <% end %>

  <p>
    <strong>ニックネーム:</strong>
    <%= @profile.user_name.present? ? @profile.user_name : "(未登録)" %>
  </p>

  <p>
    <strong>自己紹介:</strong>
    <%= @profile.introduction.present? ? simple_format(@profile.introduction) : "(未登録)" %>
  </p>

  <p>
    <strong>生年月日:</strong>
    <%= @profile.birthdate.present? ? @profile.birthdate.strftime("%Y年%m月%d日") : "(未登録)" %>
  </p>

  <p>
    <strong>性別:</strong>
    <%= @profile.gender.present? ? @profile.gender_i18n : "(未登録)" %>
  </p>

  <p>
    <strong>ウェブサイト:</strong>
    <%= @profile.website.present? ? (link_to @profile.website, @profile.website, target: "_blank", rel: "noopener noreferrer") : "(未登録)" %>
  </p>

  <%= link_to "プロフィールを編集", edit_profile_path, class: "btn btn-primary" %>
<% end %>