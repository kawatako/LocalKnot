■サービス概要
旅行者(利用者)とその地元に住む人(事業者)とをマッチングさせて旅を充実してもらうサービスです。
旅行者は旅行先について掲示板で質問したり、旅行先の人に案内を依頼したりすることで充実した旅行を送ることができます。

■ このサービスへの思い・作りたい理由
町おこしをテーマに長野で民宿事業を友人と将来的にビジネスをしたいと話していた中で、その先駆けとして今回のサービスを検討しました。
私自身に特に長野に思い入れはないですが、せっかく作るのであればスケールできる可能性も考えて現在友人が行なっている民宿事業との親和性の高さを鑑みてこのサービスの方向にすることにしました。
また、過去に商材と事業者をマッチングさせる事業を私自身が立ち上げた経験も活かせると思いこのサービスを検討しました。

■ ユーザー層について
サービス初期は長野エリアでのローンチ予定です
事業者側:
・地元の大学生・大学院生・専門学校生(約60000人)を主要ターゲットとして、その他高校生、時間のある高齢者や主婦、サラリーマンの利用を想定しています。
・地元還元をしたい人

利用者側：
・失敗したくない旅行者
・英語圏の旅行者

■サービスの利用イメージ
- 利用の流れ
①
利用者は旅行先について、どういう場所がおすすめなのか、どういうプランで回るのがおすすめかを掲示板で調べることができます。
事業者側はその質問に対して回答をしたりそれに対してのレビューをもらう事ができ、それをプロフィールに反映させる事ができます。
また、事業者はブログのように旅行プランやスポットについてブログ記事のようなものを書く事ができそれをプロフィールに反映させる事もできます。
②
利用者は旅行にガイドが必要だと思った時に、「いつ、どこに、どれくらいの予算で、どういう事がしたい」などの要望をポストでき、それに対して事業者は応募してガイド案内依頼をもらう事ができます。
もしくは、事業者側で、旅行プランを作成して旅行者がそのプランに参加するという形も可能です。
③
その際、旅行者は過去の掲示板の回答やリンク可能なSNSアカウントを見て人となりや知見を判断して誰に依頼を出す判断材料にする事ができます。

- 獲得価値
事業者側:
・自身の知見を活かせる満足
・金銭的な報酬
・言語障壁を取り除けることにより精神的な満足

利用者側：
・安心に旅行できる
・言語的障害を突破して旅行できる
・調べることなく旅行先の高品質なスポットを訪れられる

プラットフォーム側：
・掲示板への広告費
・マッチング成立での仲介費用

■ ユーザーの獲得について
まず、友人の運営している民宿を運営する大学生と運営者に事業者(=ガイド)になってもらい、民宿に泊まるお客さんにサービスの宣伝と掲示板への質問をお願いする。
サービス初期は、サクラとして運営者で質問＋回答を繰り返したり、こちらである程度旅行案内についてガイドへの報酬を払うなどして、サービスを使ってもらう機会を増やすなどしてコミュニティとして流行ってるいる感＋利用実績を演出していく。
利用実績が増えたらインスタグラムのターゲティング広告を使い認知＋ユーザー獲得を目指す。

■ サービスの差別化ポイント・推しポイント
競合サービス
- [マッチングガイド](https://matching-guide.com/)
→プランに対して利用者が応募する、利用者がリクエストを出すといった基本的な機能はある
　利用ユーザーがほぼいないため、サービススケールを諦めているかこれから進めていくか
- [Tour Master](https://ec.tourmaster.jp/how-it-works/)
→ツアーガイドは審査制で事前面談を行い詳細な旅行プランや予算内容を決定→依頼するので事業者側の手軽感が弱い
  サイトがガチャガチャしていてどう調べればいいのかがわからないので使いずらい
- [foratravel](https://www.foratravel.com/)
→海外のサービスで、検索範囲は広い代わりにデザインに親しみが持てない
　ランサーズのように、利用者の要望に対して事業者が入札していくような旅全般をオールインワンでサポートする立て付け

他社サービスとの差別化
- 機能的戦略：
  ・掲示板機能+SNSアカウントの連携で事業者側の人となりを知る事ができる。
  ・動線がわかりやすい検索機能

- 営業戦略
  ・初期に実際に事業者として協力してくれる人がいること
  ・ローンチ時のターゲットエリアを絞ることで地元のサービス(特別)感を演出する
  ・実際に運営をしている利用者からのフィードバックを集めやすい環境(月の利用者200人、内海外旅行者: 40人(20%)英語圏の旅行者: 20人　(10%))

■ 機能候補
◇MVPリリース　※MVPリリースでは、掲示板機能とブログ機能の完成を目指します
- ユーザー登録・認証機能
利用者登録: メールアドレス、パスワード、ニックネーム、プロフィール画像、自己紹介文
事業者登録: 利用者登録と同じ

- プロフィール機能(事業者側)
プロフィール編集: 自己紹介文、プロフィール画像、提供サービス、得意分野、資格などの編集
ポートフォリオ・実績表示:掲示板への回答履歴、ブログ一覧の表示、累計いいね数、ベストアンサー数
SNS連携: 使用しているSNSへのリンク

- ブログ機能
  ブログ機能: 事業者が旅行プランやスポットについてのブログ記事を作成し、公開
  カテゴリ機能：カテゴリ(食事、アクティビティなど)
  スポット選択機能：エリア
  画像投稿機能：複数の画像を掲載できる
  いいね機能：事業者、利用者からいいねがもらった数字が表示される
  コメント機能：ブログへのコメント
  キーワード検索機能：カテゴリ、スポット、ユーザーで絞り込み可能

- 掲示板機能
質問投稿: 旅行先、日程、予算、興味のあることなどを指定して質問投稿
回答投稿: 質問に対する回答投稿
ベスト回答機能：ベストな回答を選べる
コメント機能: 質問や回答に対するコメント
いいね機能: 質問や回答への共感
検索機能: キーワード、地域、カテゴリーなどでの検索（観光、グルメ、アクティビティなど）

- 通知機能
  掲示板への回答があった場合に通知が行くように設定

◇本リリース　※本リリースでは利用者のマッチングと報酬システムまでを実装します

- ユーザー登録・認証機能
利用者登録: 支払い情報
事業者登録: ガイド登録を行う場合に銀行口座情報の登録、電話番号認証

- 旅行プラン作成機能(事業者側)
プラン作成機能：時間、場所、目安予算、詳細、キーワード、カテゴリー（観光、グルメ、アクティビティなど）
検索機能: キーワード、地域、カテゴリーなどでの検索（観光、グルメ、アクティビティなど）

- 旅行リクエスト作成機能(利用者側)
プラン作成機能：時間、場所、詳細、目安予算、キーワード、カテゴリー（観光、グルメ、アクティビティなど）
検索機能: キーワード、地域、カテゴリーなどでの検索（観光、グルメ、アクティビティなど）

- マッチング機能
ガイド依頼: 旅行者が、希望の地域、日程、予算、希望するアクティビティなどを指定してガイドを依頼
ガイド応募: 事業者が、ガイド依頼に対して応募
マッチング: 旅行者と事業者がお互いに合意してマッチング
メッセージ機能: マッチングしたユーザー同士でメッセージのやり取り
評価機能: サービス終了後に、お互いを評価

- 決済機能
ガイド料金の決済: 信用カード、PayPalなどによる決済
キャンセルポリシー: キャンセル時の返金ルール設定
手数料設定: サービス利用時の手数料設定

- 通知機能
  旅行プラン、旅行リクエストへの回答があった場合に通知が行くように設定

- 掲示板機能
  回答報酬機能：質問への回答に対して利用者から事業者へ報酬を渡せる機能

- プロフィール機能(事業者側)
単価: 1時間あたりの利用単価目安
得意ジャンル：観光、グルメ、アクティビティ、エリアなど
ポートフォリオ・実績表示: 過去のガイド実績(レビューコメント、レーティング)

- 多言語対応
  英語対応


■ 機能の実装方針予定
開発環境
Docker: コンテナ型仮想環境
Fly.io: インフラ (PaaS)
Db:PostgreSQL
Rails: フロントエンド & バックエンド (Ruby on Rails)

◇ MVPリリース関連
1. ユーザー登録・認証機能
Devise gemを利用する。
メール送信には、Action Mailer を利用する。Fly.ioではSendGridなどのメール配信サービスとの連携が推奨されているので、必要に応じてSendGrid用のアダプター（例：sendgrid-ruby）を利用する。
メール送信を非同期で行うために、Sidekiq などのバックグラウンドジョブ処理ライブラリを利用する。
パスワードは安全にハッシュ化して保存する（Deviseが自動で対応）。
ユーザーモデルには、メールアドレス、パスワード、ニックネーム、プロフィール画像、自己紹介文のカラムを追加する。
プロフィール画像は、Active Storageを用いてアップロードと管理を行う。必要であれば、ImageMagick（またはそのラッパーであるMiniMagick）で画像のリサイズやフォーマット変換を行う。
JavaScriptライブラリとActive Storageを組み合わせることで、プロフィール画像アップロードの非同期化を検討する。(今回は掲示板機能に限定するため優先度低)
使用gem・技術:devise、image_processing (MiniMagickの依存gem)、sidekiq、必要に応じて sendgrid-ruby 等、uppy、dropzone.js

2. プロフィール機能 (事業者側)
ユーザーモデルに、提供サービス、得意分野、資格などのカラムを追加する。
プロフィール編集画面は、通常のRailsのフォーム（form_withなど）で実装する。
ポートフォリオ・実績表示は、関連するモデル（掲示板回答、ブログ、いいね、ベストアンサー）からデータを取得し、has_many、belongs_toなどの関連付けを利用して表示する。
SNS連携は、ユーザーモデルに各SNSのURLを保存するカラムを追加し、プロフィールページにリンクを表示する。
SNSへのリンクを保存する場所として、social-links gem等の利用を検討するが、Instagram が Web からの直接共有を公式にサポートしていないため使用しない可能性もある。
使用gem・技術:必要に応じて social-links

3. ブログ機能
ブログ記事用のモデル（例：Post）を作成する。タイトル、本文、カテゴリ、スポット、ユーザーID（user_id）などのカラムを追加する。
ブログ記事の作成・編集画面は、通常のRailsのフォーム（form_withなど）で実装する。
カテゴリ機能は、カテゴリ用のモデル（例：Category）を作成し、Postモデルとhas_and_belongs_to_manyまたはhas_many :throughで関連付ける。
画像投稿機能は、Active Storageを利用し、複数の画像をアップロードできるようにする。ImageMagickで画像のリサイズや最適化を行う。
いいね機能は、いいね用のモデル（例：Like）を作成し、PostモデルおよびUserモデルとbelongs_toで関連付ける。(いいねのアクション自体は、JavaScriptで動的に表示を切り替える形にする)
コメント機能は、コメント用のモデル（例：Comment）を作成し、PostモデルおよびUserモデルとbelongs_toで関連付ける。(コメントの投稿自体は、JavaScriptで動的に表示を切り替える形にする)画像の遅延読み込みは必要に応じてlozad.jsなどのライブラリを使い、実装する。
キーワード検索機能は、ransack や pg_search gemを利用するか、PostgreSQLの全文検索機能を利用して実装する。
タグ機能は、acts-as-taggable-onを使い、タグ用のモデル（例: Tag）を作成し、Postモデルとhas_and_belongs_to_manyまたはhas_many :throughで関連付ける。
使用gem・技術:image_processing、ransack または pg_search、acts-as-taggable-on、lozad.js

4. 掲示板機能
質問用のモデル（例：Question）を作成する。タイトル、本文、旅行先、日程、予算、興味、ユーザーID（user_id）などのカラムを追加する。
回答用のモデル（例：Answer）を作成する。本文、質問ID（question_id）、ユーザーID（user_id）などのカラムを追加する。
質問投稿・回答投稿画面は、通常のRailsのフォーム（form_withなど）で実装する。
ベスト回答機能は、Answerモデルに、ベストアンサーかどうかのフラグ（例：is_best_answer）を持たせる。質問者は自分の質問への回答からベストアンサーを選択できる。
Ajax化:
いいね機能: いいねボタンにremote: trueを追加し、Ajaxでいいねのカウントを更新する。js.erbファイルでいいねボタンの表示（いいね済み・未いいね）といいね数を更新する。
コメント投稿: コメント投稿フォームにremote: trueを追加し、Ajaxでコメントを投稿する。js.erbファイルで投稿したコメントを動的に表示する。
回答投稿: 回答投稿フォームにremote: trueを追加し、Ajaxで回答を投稿する。js.erbファイルで投稿した回答を動的に表示する。
ベストアンサー選択: ベストアンサー選択ボタン/リンクにremote: trueを追加し、Ajaxでベストアンサーを更新する。js.erbファイルでベストアンサー表示を更新する。
コメント機能は、コメント用のモデル（例：Comment）を作成し、Questionモデル、Answerモデル、およびUserモデルとbelongs_toで関連付ける。
いいね機能は、いいね用のモデル（例：Like）を作成し、Questionモデル、Answerモデル、およびUserモデルとbelongs_toで関連付ける。
検索機能は、ransack を利用し、ostgreSQLの全文検索機能を利用して実装する。
タグ機能は、ブログ機能と同様にacts-as-taggable-onを利用する。
使用gem・技術:ransack、acts-as-taggable-on

5. 通知機能
通知用のモデル（例：Notification）を作成する。通知タイプ、通知メッセージ、既読フラグ、ユーザーID（user_id）、関連するモデルの情報（例：質問ID、回答ID）などのカラムを追加する。Sidekiq などのバックグラウンドジョブ処理ライブラリを用いて、通知の作成を非同期で実行する。掲示板で回答があった場合に、質問者に通知を作成する。
通知の表示は、ページリロードで対応する。(リアルタイム通知は、必要に応じてAction Cableの利用を検討します。今回は、Ajax通信掲示板機能に限定のため、優先度低)
使用gem・技術:sidekiq

◇ 本リリース関連
1. ユーザー登録・認証機能
実装方針:
支払い情報は、Stripeの利用を前提とし、クレジットカード番号などの機密情報は直接保存しないようにする。Stripeの顧客IDをユーザーモデルに保存する。
事業者登録時の銀行口座情報、身分証明書の登録は、Active Storageを利用してファイルアップロード機能を、電話番号認証にはtwilioを実装し、安全に保管する。
使用gem・技術:stripe、twilio-ruby(Twilio)

3. 旅行プラン作成機能 (事業者側)
旅行プラン用のモデル（例：TripPlan）を作成する。時間、場所、目安予算、詳細、キーワード、カテゴリ、ユーザーID（user_id）などのカラムを追加する。
旅行プランの作成画面は、通常のRailsのフォーム（form_withなど）で実装する。
検索機能は、ransack や pg_search gemを利用するか、PostgreSQLの全文検索機能を利用して実装する。
使用gem・技術:ransack または pg_search

4. 旅行リクエスト作成機能 (利用者側)
旅行リクエスト用のモデル（例：TripRequest）を作成する。時間、場所、目安予算、詳細、キーワード、カテゴリ、ユーザーID（user_id）などのカラムを追加する。
旅行リクエストの作成画面は、通常のRailsのフォーム（form_withなど）で実装する。
検索機能は、ransackを利用して実装する。
使用gem・技術:ransack

5. マッチング機能
ガイド依頼は、TripRequestモデルを利用して実装する。
ガイド応募は、応募用のモデル（例：Application）を作成し、TripRequestモデルおよびUserモデルとbelongs_toで関連付ける。
マッチングは、マッチング用のモデル（例：Matching）を作成し、TripRequestモデルおよびApplicationモデルと関連付ける。旅行者と事業者がお互いに合意したことを示すフラグ（例：is_accepted）を持たせる。
メッセージ機能は、メッセージ用のモデル（例：Message）を作成し、MatchingモデルおよびUserモデルとbelongs_toで関連付ける。メッセージのやりとりは、ページリロードで対応する。
評価機能は、評価用のモデル（例：Review）を作成し、MatchingモデルおよびUserモデルとbelongs_toで関連付ける。5段階評価などのレーティングとコメントを保存できるようにする。
使用gem・技術:特になし

6. 決済機能
Stripe を利用して決済機能を実装する。
stripe gem を利用する。
決済金額、決済ステータス、決済日時などを保存する決済ログ用のモデル（例：PaymentLog）を作成する。
キャンセルポリシーは、利用規約に明記し、返金ルールはStripeの機能を利用して実装する。
手数料設定は、アプリケーション側で計算し、決済金額に反映させる。
決済処理は、Sidekiqなどのバックグラウンドジョブ処理ライブラリを用いて非同期で実行する。決済完了後、ユーザーに通知を送信する。
使用gem・技術:stripe、sidekiq

7. 通知機能
MVPリリースの通知機能を拡張し、旅行プランや旅行リクエストへの回答があった場合にも通知を作成する。通知の作成はSidekiqなどのバックグラウンドジョブ処理ライブラリを用いて、非同期で実行する。
使用gem・技術:sidekiq

8. 掲示板機能
回答報酬機能は、投げ銭機能を実装する。Stripeを利用し、利用者から事業者へ報酬を送金できるようにする。
送金金額、送金日時、質問ID、回答IDなどを保存する送金ログ用のモデル（例：DonationLog）を作成する。
投げ銭処理は、Sidekiqなどのバックグラウンドジョブ処理ライブラリを用いて非同期で実行する。処理完了後、ユーザーに通知を送信する。
使用gem・技術:stripe、sidekiq

9. プロフィール機能 (事業者側)
単価、得意ジャンルは、ユーザーモデルにカラムを追加する。
ポートフォリオ・実績表示は、Reviewモデルからガイド実績を取得し、レーティングとレビューコメントを表示する。
使用gem・技術:特になし

10. 多言語対応
**Railsの国際化機能（I18n）**を利用する。
言語ファイルをconfig/localesディレクトリに配置し、各言語のメッセージを定義する。
ユーザーの言語設定に応じて、表示言語を切り替える。i18n-js gemを使うことで、JavaScriptで使用する文言も国際化対応できる
使用gem・技術:i18n、i18n-js
