
■サービス概要 
旅行者(利用者)とその地元に住む人(事業者)とをマッチングさせて旅を充実してもらうサービスです。 旅行者は旅行先について掲示板で質問したり、旅行先の人に案内を依頼したりすることで充実した旅行を送ることができます。

■ このサービスへの思い・作りたい理由 
町おこしをテーマに長野で民宿事業を友人と将来的にビジネスをしたいと話していた中で、その先駆けとして今回のサービスを検討しました。 私自身に特に長野に思い入れはないですが、せっかく作るのであればスケールできる可能性も考えて現在友人が行なっている民宿事業との親和性の高さを鑑みてこのサービスの方向にすることにしました。 また、過去に商材と事業者をマッチングさせる事業を私自身が立ち上げた経験も活かせると思いこのサービスを検討しました。

■ ユーザー層について 
サービス初期は長野エリアでのローンチ予定です 
事業者側: 
・地元の大学生
・大学院生
・専門学校生(約60000人)を主要ターゲットとして、その他高校生、時間のある高齢者や主婦、サラリーマンの利用を想定しています。 
・地元還元をしたい人

利用者側： 
・失敗したくない旅行者 
・英語圏の旅行者

■サービスの利用イメージ
利用の流れ
① 利用者は旅行先について、どういう場所がおすすめなのか、どういうプランで回るのがおすすめかを掲示板で調べることができます。 事業者側はその質問に対して回答をしたりそれに対してのレビューをもらう事ができ、それをプロフィールに反映させる事ができます。 また、事業者はブログのように旅行プランやスポットについてブログ記事のようなものを書く事ができそれをプロフィールに反映させる事もできます。
② 利用者は旅行にガイドが必要だと思った時に、「いつ、どこに、どれくらいの予算で、どういう事がしたい」などの要望をポストでき、それに対して事業者は応募してガイド案内依頼をもらう事ができます。 もしくは、事業者側で、旅行プランを作成して旅行者がそのプランに参加するという形も可能です。
③ その際、旅行者は過去の掲示板の回答やリンク可能なSNSアカウントを見て人となりや知見を判断して誰に依頼を出す判断材料にする事ができます。

獲得価値 
事業者側: 
・自身の知見を活かせる満足 ・金銭的な報酬 ・言語障壁を取り除けることにより精神的な満足

利用者側： 
・安心に旅行できる ・言語的障害を突破して旅行できる ・調べることなく旅行先の高品質なスポットを訪れられる

プラットフォーム側： 
・掲示板への広告費 ・マッチング成立での仲介費用

■ ユーザーの獲得について 
まず、友人の運営している民宿を運営する大学生と運営者に事業者(=ガイド)になってもらい、民宿に泊まるお客さんにサービスの宣伝と掲示板への質問をお願いする。 サービス初期は、サクラとして運営者で質問＋回答を繰り返したり、こちらである程度旅行案内についてガイドへの報酬を払うなどして、サービスを使ってもらう機会を増やすなどしてコミュニティとして流行ってるいる感＋利用実績を演出していく。 利用実績が増えたらインスタグラムのターゲティング広告を使い認知＋ユーザー獲得を目指す。

■ サービスの差別化ポイント・推しポイント 競合サービス
マッチングガイド →プランに対して利用者が応募する、利用者がリクエストを出すといった基本的な機能はある 　利用ユーザーがほぼいないため、サービススケールを諦めているかこれから進めていくか
Tour Master →ツアーガイドは審査制で事前面談を行い詳細な旅行プランや予算内容を決定→依頼するので事業者側の手軽感が弱い サイトがガチャガチャしていてどう調べればいいのかがわからないので使いずらい
foratravel →海外のサービスで、検索範囲は広い代わりにデザインに親しみが持てない 　ランサーズのように、利用者の要望に対して事業者が入札していくような旅全般をオールインワンでサポートする立て付け

他社サービスとの差別化
機能的戦略： 
・掲示板機能+SNSアカウントの連携で事業者側の人となりを知る事ができる。 
・動線がわかりやすい検索機能
営業戦略 
・初期に実際に事業者として協力してくれる人がいること
・ローンチ時のターゲットエリアを絞ることで地元のサービス(特別)感を演出する ・実際に運営をしている利用者からのフィードバックを集めやすい環境(月の利用者200人、内海外旅行者: 40人(20%)英語圏の旅行者: 20人　(10%))

■ 機能候補 
◇MVPリリース　
※MVPリリースでは、掲示板機能とブログ機能の完成を目指します

ユーザー登録・認証機能
利用者登録: メールアドレス、パスワード、ニックネーム
事業者登録: 利用者登録と同じ

プロフィール機能
プロフィール編集: 自己紹介文、プロフィール画像、掲示板・ブログ一覧のリンク　SNS連携: 使用しているSNSへのリンク

ブログ機能 
ブログ機能: 事業者が旅行プランやスポットについてのブログ記事を作成し、公開 
カテゴリ機能：カテゴリ(食事、アクティビティなど) スポット選択機能：エリア 
画像投稿機能：複数の画像を掲載できる 
いいね機能：事業者、利用者からいいねがもらった数字が表示される 
コメント機能：ブログへのコメント キーワード検索機能：カテゴリ、スポット、ユーザーで絞り込み可能

掲示板機能 
質問投稿: 旅行先、日程、予算、興味のあることなどを指定して質問投稿 
回答投稿: 質問に対する回答投稿 
コメント機能: 質問や回答に対するコメント いいね機能: 質問や回答への共感 
検索機能: キーワード、地域、カテゴリーなどでの検索（観光、グルメ、アクティビティなど）

通知機能 
掲示板への回答があった場合に通知が行くように設定

◇本リリース　
※本リリースでは利用者のマッチングと報酬システムまでを実装します

ユーザー登録・認証機能 利用者登録: 支払い情報 事業者登録: ガイド登録を行う場合に銀行口座情報の登録、電話番号認証

旅行プラン作成機能(事業者側) プラン作成機能：時間、場所、目安予算、詳細、キーワード、カテゴリー（観光、グルメ、アクティビティなど） 検索機能: キーワード、地域、カテゴリーなどでの検索（観光、グルメ、アクティビティなど）

旅行リクエスト作成機能(利用者側) プラン作成機能：時間、場所、詳細、目安予算、キーワード、カテゴリー（観光、グルメ、アクティビティなど） 検索機能: キーワード、地域、カテゴリーなどでの検索（観光、グルメ、アクティビティなど）

マッチング機能 ガイド依頼: 旅行者が、希望の地域、日程、予算、希望するアクティビティなどを指定してガイドを依頼 ガイド応募: 事業者が、ガイド依頼に対して応募 マッチング: 旅行者と事業者がお互いに合意してマッチング メッセージ機能: マッチングしたユーザー同士でメッセージのやり取り 評価機能: サービス終了後に、お互いを評価

決済機能 ガイド料金の決済: 信用カード、PayPalなどによる決済 キャンセルポリシー: キャンセル時の返金ルール設定 手数料設定: サービス利用時の手数料設定

通知機能 旅行プラン、旅行リクエストへの回答があった場合に通知が行くように設定

掲示板機能 回答報酬機能：質問への回答に対して利用者から事業者へ報酬を渡せる機能

プロフィール機能(事業者側) 単価: 1時間あたりの利用単価目安 得意ジャンル：観光、グルメ、アクティビティ、エリアなど ポートフォリオ・実績表示: 過去のガイド実績(レビューコメント、レーティング)

多言語対応 英語対応

■ 機能の実装方針予定 
開発環境 
Docker: コンテナ型仮想環境 
Fly.io: インフラ (PaaS) Db:PostgreSQL 
Rails: フロントエンド & バックエンド (Ruby on Rails)


◇ MVPリリース関連
1. ユーザー登録・認証機能
必要な機能:
新規ユーザー登録 (メールアドレス、パスワード、ニックネーム)
ログイン / ログアウト
パスワードリセット
メールアドレス確認
作成モデル:User (ER 図で作成済み)
使用 gem や技術
devise: 認証機能全般
devise-i18n: Devise のメッセージを日本語化 (オプション)
Action Mailer: メール送信
SendGrid (または他のメール配信サービス): メール配信 (オプション)
Sidekiq: メール送信の非同期化 (オプション)
実装方針:
Devise のジェネレータを使って、基本的な認証機能を実装します。
rails generate devise User
必要に応じて、Devise の RegistrationsController をオーバーライドして、ユーザー登録時に nickname などのカラムを追加します。
メール送信を非同期で行う場合は、Sidekiq を導入し、deliver_later メソッドを使用します。
例: UserMailer.confirmation_instructions(self).deliver_later

2. プロフィール機能
必要な機能:
プロフィール表示
プロフィール編集 (自己紹介文、画像、SNS リンク)
作成モデル:Profile (ER 図で作成済み)
使用 gem や技術
Active Storage: プロフィール画像のアップロード
ImageMagick (または MiniMagick): 画像のリサイズやフォーマット変換 (必要に応じて)
実装方針:
User と Profile は 1 対 1 の関連なので、User モデルで has_one :profile, dependent: :destroy、Profile モデルで belongs_to :user を定義します。
プロフィール編集画面は、form_with を使って実装します。
プロフィール画像のアップロードには、Active Storage を使用します。必要に応じて ImageMagick でリサイズなどの処理を行います。
SNS リンクは、Profile モデルの sns_links カラム (JSON 型) に保存します。

3. ブログ機能
必要な機能:
ブログ記事の作成、編集、削除
ブログ記事の一覧表示、詳細表示
カテゴリ、エリアでの絞り込み
キーワード検索
画像投稿 (複数枚、body 内に埋め込み)
いいね機能
コメント機能
作成モデル:Blog (ER 図で作成済み)、BlogLike (ER 図で作成済み)、BlogComment (ER 図で作成済み)、Category, Area モデルを作成し、Blog と関連付ける
使用 gem や技術:
Active Storage: 画像のアップロード
Action Text: リッチテキストエディタ (Trix)
ImageMagick: 画像のリサイズや最適化
Ransack または pg_search: キーワード検索
Kaminari または will_paginate: ページネーション
lozad.js: 画像の遅延読み込み (オプション)
実装方針:
Blog モデルに has_rich_text :body を追加して、Action Text を有効にします。
ブログ記事の作成・編集画面では、form_with を使い、body には rich_text_area を使用します。
画像投稿機能は、Action Text の機能で実現します。
いいね機能は、BlogLike モデルを使って実装します。Ajax を使って非同期でいいねのカウントを更新することを検討します。
コメント機能は、BlogComment モデルを使って実装します。Ajax を使って非同期でコメントを投稿、表示することを検討します。
カテゴリ、エリアでの絞り込みやキーワード検索は、Ransack または pg_search を使って実装します。

4. 掲示板機能
必要な機能:
質問の投稿、編集、削除
回答の投稿、編集、削除
質問・回答へのコメント (今回は AnswerComment モデルで実装)
質問・回答へのいいね
質問一覧、詳細表示
ベストアンサー選択
キーワード、地域、カテゴリーなどでの検索
作成モデル:Question (ER 図で作成済み)、Answer (ER 図で作成済み)、QuestionLike (ER 図で作成済み)、AnswerLike (ER 図で作成済み)、AnswerComment (ER 図で作成済み)
使用 gem や技術:
Ransack または pg_search: キーワード検索
Kaminari または will_paginate: ページネーション
実装方針:
質問投稿・回答投稿画面は、form_with を使って実装します。
いいね機能は、QuestionLike, AnswerLike モデルを使って実装します。Ajax を使って非同期でいいねのカウントを更新することを検討します。
コメント機能は、AnswerComment モデルを使って実装します。Ajax を使って非同期でコメントを投稿、表示することを検討します。
検索機能は、Ransack または pg_search を使って実装します。

5. 通知機能
必要な機能:
以下のイベント発生時にメールで通知:自分の質問への回答、自分の質問・回答へのいいね、自分のブログへのいいね、自分のブログへのコメント、通知の ON/OFF 設定 (ユーザーごとに設定)
作成モデル:Notification (ER 図で作成済み)、User (ユーザー登録・認証機能のUserモデル参照): notification_enabled カラム (通知の ON/OFF 設定)
使用 gem や技術
Action Mailer: メール送信
Sidekiq: メール送信の非同期化
SendGrid (または他のメール配信サービス): メール配信 (必要に応じて)
実装方針
Notification モデルを使って、通知情報を保存します。
recipient_id: 通知を受け取るユーザーの ID
actor_id: 通知を発生させたユーザーの ID
action: 行為の種類 (例: "answered", "liked", "commented")
notifiable_type: 通知対象のモデル名 (例: "Question", "Answer", "Blog")
notifiable_id: 通知対象の ID
read_at: 既読日時 (今回は使用しない)
各イベント (回答投稿、いいね、コメント) が発生した後に、Notification を作成し、メールを送信します。
メール送信は、Sidekiq を使って非同期で実行します。
ユーザーごとに通知の ON/OFF を設定できるように、User モデルに notification_enabled カラムを追加します。デフォルトは true (通知 ON) とします。
メール送信前に、User.notification_enabled の値を確認し、true の場合のみ送信します。


◇ 本リリース関連
ユーザー登録・認証機能 実装方針: 支払い情報は、Stripeの利用を前提とし、クレジットカード番号などの機密情報は直接保存しないようにする。Stripeの顧客IDをユーザーモデルに保存する。 事業者登録時の銀行口座情報、身分証明書の登録は、Active Storageを利用してファイルアップロード機能を、電話番号認証にはtwilioを実装し、安全に保管する。 使用gem・技術:stripe、twilio-ruby(Twilio)

旅行プラン作成機能 (事業者側) 旅行プラン用のモデル（例：TripPlan）を作成する。時間、場所、目安予算、詳細、キーワード、カテゴリ、ユーザーID（user_id）などのカラムを追加する。 旅行プランの作成画面は、通常のRailsのフォーム（form_withなど）で実装する。 検索機能は、ransack や pg_search gemを利用するか、PostgreSQLの全文検索機能を利用して実装する。 使用gem・技術:ransack または pg_search

旅行リクエスト作成機能 (利用者側) 旅行リクエスト用のモデル（例：TripRequest）を作成する。時間、場所、目安予算、詳細、キーワード、カテゴリ、ユーザーID（user_id）などのカラムを追加する。 旅行リクエストの作成画面は、通常のRailsのフォーム（form_withなど）で実装する。 検索機能は、ransackを利用して実装する。 使用gem・技術:ransack

マッチング機能 ガイド依頼は、TripRequestモデルを利用して実装する。 ガイド応募は、応募用のモデル（例：Application）を作成し、TripRequestモデルおよびUserモデルとbelongs_toで関連付ける。 マッチングは、マッチング用のモデル（例：Matching）を作成し、TripRequestモデルおよびApplicationモデルと関連付ける。旅行者と事業者がお互いに合意したことを示すフラグ（例：is_accepted）を持たせる。 メッセージ機能は、メッセージ用のモデル（例：Message）を作成し、MatchingモデルおよびUserモデルとbelongs_toで関連付ける。メッセージのやりとりは、ページリロードで対応する。 評価機能は、評価用のモデル（例：Review）を作成し、MatchingモデルおよびUserモデルとbelongs_toで関連付ける。5段階評価などのレーティングとコメントを保存できるようにする。 使用gem・技術:特になし

決済機能 Stripe を利用して決済機能を実装する。 stripe gem を利用する。 決済金額、決済ステータス、決済日時などを保存する決済ログ用のモデル（例：PaymentLog）を作成する。 キャンセルポリシーは、利用規約に明記し、返金ルールはStripeの機能を利用して実装する。 手数料設定は、アプリケーション側で計算し、決済金額に反映させる。 決済処理は、Sidekiqなどのバックグラウンドジョブ処理ライブラリを用いて非同期で実行する。決済完了後、ユーザーに通知を送信する。 使用gem・技術:stripe、sidekiq

通知機能 MVPリリースの通知機能を拡張し、旅行プランや旅行リクエストへの回答があった場合にも通知を作成する。通知の作成はSidekiqなどのバックグラウンドジョブ処理ライブラリを用いて、非同期で実行する。 使用gem・技術:sidekiq

掲示板機能 回答報酬機能は、投げ銭機能を実装する。Stripeを利用し、利用者から事業者へ報酬を送金できるようにする。 送金金額、送金日時、質問ID、回答IDなどを保存する送金ログ用のモデル（例：DonationLog）を作成する。 投げ銭処理は、Sidekiqなどのバックグラウンドジョブ処理ライブラリを用いて非同期で実行する。処理完了後、ユーザーに通知を送信する。 使用gem・技術:stripe、sidekiq

プロフィール機能 (事業者側) 単価、得意ジャンルは、ユーザーモデルにカラムを追加する。 ポートフォリオ・実績表示は、Reviewモデルからガイド実績を取得し、レーティングとレビューコメントを表示する。 使用gem・技術:特になし

多言語対応 **Railsの国際化機能（I18n）**を利用する。 言語ファイルをconfig/localesディレクトリに配置し、各言語のメッセージを定義する。 ユーザーの言語設定に応じて、表示言語を切り替える。i18n-js gemを使うことで、JavaScriptで使用する文言も国際化対応できる 使用gem・技術:i18n、i18n-js
